# Predicting Charter Booking Cancellation 
[View Jupyter Notebook](Predicting%20Charter%20Booking%20Cancellation.ipynb)

### Problem Statement
A company that charters private jets has several years worth of bookings data and wants to see if they can develop a model to predict whether or not a booking will cancel. Since the final result is a discrete variable (the charter booking either cancels or does not cancel) and we have a labeled dataset, this is a classification problem. In this analysis, I will explore the different features in the dataset and try out several classification models to see if we can accurately predict whether a charter booking will cancel or not. If the company is able to know ahead of time whether a booking will cancel or not, they can take active measures to prepare a backup trip for the respective aircaft to achieve higher utilization rates across their available fleet.

### Data Preparation and EDA (Exploratory Data Analysis) 
The dataset contains 8,353 bookings from 2021 to 2025. One issue that became apparent during the initial data preparation was that the company changed their flight booking software system in 2021 which resulted in all existing bookings from the previous system being assigned the same Booking Date in the new system. This made it appear like there were a lot of bookings in April 2021, but this is not true so I removed these 894 bookings bringing the dataset down to 7,459 bookings.

The dataset didn't contain any duplicates, but it did have a good amount of missing values (20%-45%) in some columns such as Trip Class, Customer Segment, and Trip Category. These missing values were later imputed using the most frequent value for Trip Class and Trip Category, and a constant value for Customer Segment. There were also some outliers that appeared to be incorrect data, which I also removed from the dataset. Univariate analysis of the target variable showed a slight class imbalance as only 28.5% of the bookings were cancellations. Bivariate analysis revealed some interesting insights such as the Trip Type, Origin, and month of the trip having fairly different cancellation rates which could prove to be useful for our predictive model.

For preprocessing, I first did a train test split followed by some feature engineering that included scaling the numerical features, imputing missing values, and encoding categorical features with ordinal encoding as well as one hot encoding.

### Modeling and Findings
The baseline model consisted of a dummy classifier that just predicted the most common outcome so it's accuracy score was 72% as that's how our target variable's classes were balanced. I then tried several classification models such as logistic regression, K-nearest neighbors, decision tree, SVM (Support Vector Machine), and random forest, all with default parameters. The decision tree and random forest with default parameters both suffered from overfitting, and none of the other models really performed that well. In terms of evaluation metrics, I looked at accuracy, precision, recall, and F1 scores.

For this problem, the most important evaluation metric would be the F1 score since both precision and recall are important in this scenario. A false negative (predicted charter booking won't cancel, but it does) would essentially be an unanticipated cancellation, which is not the worst thing but it does not sit well with the company's aircraft owners and their respective crewmembers since they blocked out part of the schedule/calendar and prepared for the trip. A false positive (predicted charter booking will cancel, but it doesn't) also causes some strain on the company since they would begin looking at what other trips they may be able to book on the respective aircraft that they are anticipating a cancellation for. So, the F1 score would be a good evaluation metric to look at since it takes both of these into account. 

For next steps, I will focus on hyperparameter tuning for all the models to see if it can significantly improve model performance and potentially some better feature engineering and imputation methods for a better dataset. I may also want to use some sampling techniques to better balance the classes of the target variable.
